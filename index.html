<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1">
    <script src="./JavascriptUi.js"></script>
</head>

<body></body>
<script>
    const {
        Mount,
        Fixed,
        Absolute,
        Column,
        Row,
        Center,
        Box,
        Img,
        Txt,
        Input,
        _reactive,
        _reactor,
    } = window.TheJsUi;


    // =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-


    const ImgButtonComponent = (imgPath, targetTxt) => {
        return Column(
            Img(imgPath),
            Txt(targetTxt),
        );
    };


    const
        imgArray = _reactive([
            ['./assets/s01.png', 'Text A'],
            ['./assets/s02.png', 'Text A'],
            ['./assets/s03.png', 'Text A'],
            ['./assets/s04.png', 'Text A'],
        ]),
        imgArray2 = _reactive([
            {
                iPath: './assets/s05.png',
                sText: 'Text A'
            },
            {
                iPath: './assets/s06.png',
                sText: 'Text A'
            },
        ]);


    _reactor.logoSwitch = _reactive(true);
    (async () => {
        await new Promise(res => setTimeout(res, 3000));

        // update of _reactive
        _reactor.logoSwitch = false;
        imgArray.pop();

        await new Promise(res => setTimeout(res, 1000));

        _reactor.logoSwitch = true;

        // create new _reactive in adding into document
        imgArray.push(_reactive(['./assets/s05.png', 'Not test']));

        // update reactive object
        imgArray2[0].value.sText.value = 'yellow box';
    })();


    const inputUpdate = e => {
        console.log(e);
        console.log(e.currentTarget);
    };


    Mount(
        document.body,
        () =>
            Box(
                Fixed(
                    Row(
                        ...(() => {
                            const navEleCss = {
                                marginLeft: '0.5rem',
                                backgroundColor: 'transparent',
                                border: 'none',
                            };
                            return [
                                Input('button', 'Gmail').Css(navEleCss),
                                Input('button', 'Images').Css(navEleCss),
                                Img('./assets/navDot.png').Css({ width: '2rem', objectFit: 'contain', ...navEleCss, }),
                                Img('./assets/navHead.png').Css(navEleCss),
                            ]
                        })().flat()
                    ).Css({
                        alignItems: 'center',
                    }),
                ).Css({
                    top: 0,
                    right: 0,
                    margin: '0.5rem',
                }),

                Center(
                    Column(
                        _reactor.logoSwitch
                            ? Img(`./assets/icon.png`).Css({ height: '9rem', objectFit: 'contain', })
                            : Img(`./assets/s07.jpg`).Css({ height: '9rem', objectFit: 'contain', }),
                        Box(
                            Row(
                                Img('./assets/mag.png'),
                                Input('text')
                                    .Attribute({ placeholder: 'Search Google or type a URL' })
                                    .Css({ width: '50vw', padding: '0.25rem 1rem', borderRadius: '5rem', border: 'solid 1px grey', outline: 'none' })
                                    .Event('change', inputUpdate),
                                Img('./assets/mic.png'),
                            ).Css({ height: '2rem' }),
                        ),
                        Column(
                            Row(
                                Center(
                                    ...imgArray.map(
                                        el =>
                                            ImgButtonComponent(
                                                el[0].value,
                                                el[1].value
                                            )
                                    ),
                                ),
                            ),
                            Row(
                                Center(
                                    ...imgArray2.map(el => ImgButtonComponent(
                                        el.value.iPath.value,
                                        el.value.sText.value
                                    )),
                                    Column(
                                        Img('./assets/s07.jpg'),
                                        Txt('Add Shortcut'),
                                    ),
                                ),
                            ).Css({ marginTop: '1rem' }),
                        )
                            .Css('img', { width: '5rem', height: '5rem', objectFit: 'contain', padding: '0 0.5rem' })
                            .Css('p', { textAlign: ' center', })
                            .Css({ marginTop: '1.5rem', })
                            .Attribute({ class: 'custom', id: 'theColumn' }),
                    )
                )
            )
    );
</script>